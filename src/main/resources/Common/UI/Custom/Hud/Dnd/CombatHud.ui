// Combat HUD Overlay - TTRPG Plugin
// Uses shared Dnd.ui component library
$C = "../../Common.ui";
$D = "../../Dnd/Dnd.ui";

Group #CombatHudRoot {
  LayoutMode: Top;
  Anchor: (Width: 200, Right: 10, Top: 100);

  // === HEADER ===
  Group #HeaderPanel {
    Background: #1a1a2e(0.85);
    Anchor: (Height: 30);
    Label #roundLabel {
      Anchor: (Width: 190);
      Text: "Combat Active";
      Style: (FontSize: 11, RenderBold: true, TextColor: #ccb588, HorizontalAlignment: Center);
    }
  }

  // === CURRENT TURN ===
  Group #CurrentTurnPanel {
    LayoutMode: Top;
    Background: #2a2a4e(0.9);
    Anchor: (Height: 50, Top: 2);
    Label {
      Anchor: (Height: 12);
      Text: "Current Turn";
      Style: (FontSize: 9, TextColor: #888888);
    }
    Label #currentTurnName {
      Anchor: (Height: 20);
      Text: "PlayerName";
      Style: (FontSize: 14, RenderBold: true, TextColor: #ffffff);
    }
  }

  // === TURN PROMPT ===
  Group #PromptPanel {
    Background: #1a1a2e(0.85);
    Anchor: (Height: 25, Top: 2);
    Label #turnPrompt {
      Anchor: (Width: 190);
      Text: "Your turn!";
      Style: (FontSize: 11, TextColor: #4caf50, HorizontalAlignment: Center);
    }
  }

  // === INITIATIVE ORDER ===
  Group #InitiativePanel {
    LayoutMode: Top;
    Background: #1a1a2e(0.8);
    Anchor: (Top: 5);
    Label {
      Anchor: (Height: 14, Bottom: 5);
      Text: "Initiative Order";
      Style: (FontSize: 9, TextColor: #888888);
    }

    // Initiative slots 0-7 (compact for HUD)
    Label #initSlot0 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "1. Player (20)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot1 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "2. Player (18)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot2 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "3. Player (15)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot3 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "4. Player (12)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot4 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "5. Player (10)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot5 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "6. Player (8)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot6 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "7. Player (5)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
    Label #initSlot7 {
      Visible: false;
      Anchor: (Height: 16);
      Text: "8. Player (3)";
      Style: (FontSize: 10, TextColor: #cccccc);
    }
  }

  // === MOVEMENT PHASE ===
  Group #movementPanel {
    LayoutMode: Top;
    Visible: false;
    Background: #2e1a2e(0.9);
    Anchor: (Top: 5);
    Label {
      Anchor: (Height: 14);
      Text: "Movement Phase";
      Style: (FontSize: 9, TextColor: #aa88cc);
    }
    Label #movementLabel {
      Anchor: (Height: 18);
      Text: "Movement: 6/6 blocks";
      Style: (FontSize: 11, RenderBold: true, TextColor: #4caf50);
    }
    $D.@HelpTextSmall #movementHint {
      @Text = "Click to select destination";
    }
  }

  // === TARGET PANEL ===
  Group #targetPanel {
    LayoutMode: Top;
    Visible: false;
    Background: #2e1a1a(0.9);
    Anchor: (Top: 5);
    Label {
      Anchor: (Height: 14);
      Text: "Target";
      Style: (FontSize: 9, TextColor: #cc8877);
    }
    Label #targetName {
      Anchor: (Height: 18);
      Text: "Goblin Warrior";
      Style: (FontSize: 12, RenderBold: true, TextColor: #ffffff);
    }

    $D.@HpBar #hpBarContainer { }

    $D.@HelpTextSmall #targetHint {
      @Text = "Click target to deselect";
      Anchor: (Top: 2);
    }
  }

  // === HELP PANEL ===
  Group #HelpPanel {
    Background: #1a1a2e(0.6);
    Anchor: (Height: 20, Top: 5);
    Label {
      Anchor: (Width: 190);
      Text: "/dnd combat for controls";
      Style: (FontSize: 8, TextColor: #666666, HorizontalAlignment: Center);
    }
  }
}
